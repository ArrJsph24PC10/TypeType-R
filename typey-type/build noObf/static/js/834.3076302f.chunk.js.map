{"version":3,"file":"static/js/834.3076302f.chunk.js","mappings":"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","sources":["pages/break/Break.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport GoogleAnalytics from \"react-ga4\";\nimport Subheader from \"../../components/Subheader\";\n\nconst addLeadingZeros = (value: number): string => {\n  let textWithLeadingZeros = String(value);\n  while (textWithLeadingZeros.length < 2) {\n    textWithLeadingZeros = \"0\" + textWithLeadingZeros;\n  }\n  return textWithLeadingZeros;\n};\n\nconst timeToDisplay = (remainingSeconds: number) => {\n  const breakTimeMinutes = Math.floor(remainingSeconds / 60);\n  const breakTimeSeconds = Math.floor(remainingSeconds - breakTimeMinutes * 60);\n  return `${breakTimeMinutes}:${addLeadingZeros(breakTimeSeconds)}`;\n};\n\nconst durationSeconds = 5 * 60;\n\nconst Break = () => {\n  const [remainingSeconds, setRemainingSeconds] = useState(durationSeconds);\n  const intervalRef = useRef<any>(null);\n  const mainHeading = useRef<HTMLHeadingElement>(null);\n  const breakDoneHeading = useRef<HTMLHeadingElement>(null);\n\n  const isBreakDone = remainingSeconds <= 0;\n\n  useEffect(() => {\n    const finishTime = Date.now() + durationSeconds * 1000;\n\n    intervalRef.current = setInterval(() => {\n      const now = Date.now();\n      const approxSecondsRemaining = (finishTime - now) / 1000;\n      const roundedSeconds = Math.round(approxSecondsRemaining);\n\n      if (approxSecondsRemaining <= 0 && intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n\n      setRemainingSeconds(roundedSeconds);\n    }, 500);\n\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    mainHeading.current?.focus();\n  }, []);\n\n  useEffect(() => {\n    if (isBreakDone) {\n      breakDoneHeading.current?.focus();\n    }\n  }, [isBreakDone]);\n\n  const reviewProgress = () => {\n    GoogleAnalytics.event({\n      category: \"Break\",\n      action: \"Click\",\n      label: \"Review progress\",\n    });\n  };\n\n  return (\n    <main id=\"main\">\n      <Subheader>\n        <div className=\"flex mr1 self-center\">\n          <header className=\"flex items-center min-h-40\">\n            <h2 ref={mainHeading} tabIndex={-1} id=\"take-a-break\">\n              Take a break\n            </h2>\n          </header>\n        </div>\n      </Subheader>\n      <div className=\"p3 mx-auto mw-1024\">\n        <div className=\"mx-auto mw-568\">\n          <h2 ref={breakDoneHeading} tabIndex={-1} className=\"text-center mt3\">\n            {isBreakDone ? \"Your break is done\" : \"Your break starts now\"}\n          </h2>\n          <p className=\"mt3 text-center mb3\">\n            Rest your hands and your mind. Take a 5-minute break and continue or\n            come back in 4+&nbsp;hours for another session.\n          </p>\n          <div className=\"text-center mb3 stat__number stat__number--min-w\">\n            <span aria-live=\"polite\" aria-atomic=\"true\">\n              {timeToDisplay(remainingSeconds)}\n            </span>\n          </div>\n          {isBreakDone && (\n            <p className=\"text-center\">\n              <Link\n                to=\"/progress\"\n                onClick={reviewProgress}\n                className=\"link-button dib\"\n                style={{ lineHeight: 2 }}\n              >\n                Review progress\n              </Link>\n            </p>\n          )}\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default Break;\n"],"names":["React","useEffect","useRef","useState","Link","GoogleAnalytics","Subheader","jsx","_jsx","jsxs","_jsxs","addLeadingZeros","value","textWithLeadingZeros","String","length","timeToDisplay","remainingSeconds","breakTimeMinutes","Math","floor","breakTimeSeconds","durationSeconds","Break","setRemainingSeconds","intervalRef","mainHeading","breakDoneHeading","isBreakDone","finishTime","Date","now","current","setInterval","approxSecondsRemaining","roundedSeconds","round","clearInterval","_mainHeading$current","focus","_breakDoneHeading$cur","reviewProgress","event","category","action","label","id","children","className","ref","tabIndex","to","onClick","style","lineHeight"],"sourceRoot":""}