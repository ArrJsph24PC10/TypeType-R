{"version":3,"file":"static/js/304.f570f69b.chunk.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA;AACA,KAAM,CAAAa,aAAa,CACjB,kIAAkI,CAEpI,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAC,WAAW,CAAGb,gBAAM,CAAqB,IAAI,CAAC,CACpD,KAAM,CAAAc,QAAQ,CAAGT,oCAAW,CAAC,CAAC,CAE9BN,mBAAS,CAAC,IAAM,CACd,GAAI,CAAAgB,WAAW,CAAG,oBAAoB,CACtC,GAAID,QAAQ,EAAIA,QAAQ,CAACE,QAAQ,CAAE,CACjCD,WAAW,CAAGD,QAAQ,CAACE,QAAQ,CACjC,CAEAf,oBAAe,CAACgB,KAAK,CAAC,CACpBC,QAAQ,CAAE,sBAAsB,CAChCC,MAAM,CAAE,SAAS,CACjBC,KAAK,CAAEL,WACT,CAAC,CAAC,CAEFb,4BAAuB,CAAC,sBAAsB,CAAC,CACjD,CAAC,CAAE,CAACY,QAAQ,CAAC,CAAC,CAEdf,mBAAS,CAAC,IAAM,CACd,GAAIc,WAAW,CAAE,KAAAS,oBAAA,CACf,CAAAA,oBAAA,CAAAT,WAAW,CAACU,OAAO,UAAAD,oBAAA,iBAAnBA,oBAAA,CAAqBE,KAAK,CAAC,CAAC,CAC9B,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEhB,mBAAA,CAACL,gCAAa,EAACsB,KAAK,CAAE,iCAAkC,CAAAC,QAAA,cACtDhB,oBAAA,SAAMiB,EAAE,CAAC,MAAM,CAAAD,QAAA,eACblB,mBAAA,CAACF,wBAAS,EAAAoB,QAAA,cACRlB,mBAAA,QAAKoB,SAAS,CAAC,sBAAsB,CAAAF,QAAA,cACnClB,mBAAA,WAAQoB,SAAS,CAAC,4BAA4B,CAAAF,QAAA,cAC5ClB,mBAAA,OAAIqB,GAAG,CAAEhB,WAAY,CAACe,SAAS,CAAC,gBAAgB,CAACE,QAAQ,CAAE,CAAC,CAAE,CAAAJ,QAAA,CAAC,oBAE/D,CAAI,CAAC,CACC,CAAC,CACN,CAAC,CACG,CAAC,cACZlB,mBAAA,QAAKoB,SAAS,CAAC,oBAAoB,CAAAF,QAAA,cACjChB,oBAAA,QAAKkB,SAAS,CAAC,QAAQ,CAAAF,QAAA,eACrBlB,mBAAA,MAAGoB,SAAS,CAAC,KAAK,CAAAF,QAAA,CAAC,sDAEnB,CAAG,CAAC,cACJlB,mBAAA,OAAAkB,QAAA,cACElB,mBAAA,OAAAkB,QAAA,cACElB,mBAAA,CAACJ,6BAAI,EAAC2B,EAAE,CAAC,eAAe,CAAAL,QAAA,CAAC,kBAAgB,CAAM,CAAC,CAC9C,CAAC,CACH,CAAC,cACLhB,oBAAA,MAAAgB,QAAA,EAAG,IACC,CAAC,GAAG,cACNlB,mBAAA,MACEwB,IAAI,CACFrB,aAAa,CAAGsB,kBAAkB,CAAC,CAAAnB,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEE,QAAQ,GAAI,EAAE,CAC5D,CACDkB,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,qBAAqB,CACzBR,EAAE,CAAC,+BAA+B,CAAAD,QAAA,CACnC,uCAED,CAAG,CAAC,EACH,CAAC,EACD,CAAC,CACH,CAAC,EACF,CAAC,CACM,CAAC,CAEpB,CAAC,CAED,sEAAed,kBAAkB;;;;;;;;;;;;AChEjC;AACA,KAAM,CAAAD,wBAAa,CACjB,kIAAkI,CAEpI,KAAM,CAAA+B,eAAe,CAAG,IAAI,CAE5B,kDAGA,KAAM,CAAAC,kBAAkB,CAAIC,QAAkB,EAC5CA,QAAQ,CAACC,UAAU,CAAC,aAAa,CAAC,EAClCD,QAAQ,CAACC,UAAU,CAAC,gBAAgB,CAAC,EACrCD,QAAQ,CAACC,UAAU,CAAC,WAAW,CAAC,EAChCD,QAAQ,CAACC,UAAU,CAAC,UAAU,CAAC,CAEjC,KAAM,CAAAC,eAAe,CAAIF,QAAkB,EACzCD,kBAAkB,CAACC,QAAQ,CAAC,CAAG,IAAI,cACjCpC,mBAAA,MAAGoB,SAAS,CAAC,KAAK,CAAAF,QAAA,cAChBlB,mBAAA,MAAGwB,IAAI,CAAEY,QAAS,CAACV,MAAM,CAAC,QAAQ,CAACC,GAAG,CAAC,qBAAqB,CAAAT,QAAA,CAAC,+BAE7D,CAAG,CAAC,CACH,CACJ,CAEH,KAAM,CAAAqB,eAAe,CAAGA,CAACH,QAAkB,CAAEI,SAA4B,GACvEL,kBAAkB,CAACC,QAAQ,CAAC,CAC1B,GAAGK,aAAsB,GAAGL,QAAQ,EAAE,CAACC,UAAU,CAC/CI,aAAsB,CAAG,UAC3B,CAAC,cACCzC,mBAAA,MAAAkB,QAAA,cACEhB,oBAAA,CAACN,6BAAI,EAAC2B,EAAE,CAAEa,QAAS,CAAAlB,QAAA,EAAC,UAAQ,CAACsB,SAAS,EAAO,CAAC,CAC7C,CAAC,cAEJxC,mBAAA,MAAAkB,QAAA,cACElB,mBAAA,CAACJ,6BAAI,EAAC2B,EAAE,CAAEa,QAAS,CAAAlB,QAAA,CAAC,YAAU,CAAM,CAAC,CACpC,CACJ,CACC,IAAI,CAKV,KAAM,CAAA0B,2BAA2B,CAC/BC,YAA6B,EACwB,CACrD,GAAI,CAAAC,QAAQ,CAAG,EAAE,CACjBA,QAAQ,CAAGC,IAAI,CAACC,SAAS,CAACH,YAAY,CAAC,CAACI,KAAK,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,MAAM,CAAC,CAChEJ,QAAQ,CAAG,KAAK,CAAGA,QAAQ,CAACK,KAAK,CAAC,CAAC,CAAEL,QAAQ,CAACM,MAAM,CAAC,CAAE;AAEvD,KAAM,CAAAC,aAAa,CAAGP,QAAQ,CAACG,KAAK,CAAC,IAAI,CAAC,CAC1C,KAAM,CAAAK,mBAAmB,CAAGD,aAAa,CAACD,MAAM,CAChD,GAAIE,mBAAmB,CAAGpB,eAAe,CAAE,CACzC,GAAI,CAAAqB,WAAW,CAAGF,aAAa,CAACF,KAAK,CAAC,CAAC,CAAEjB,eAAe,CAAC,CACzDqB,WAAW,CAACrB,eAAe,CAAG,CAAC,CAAC,CAAGqB,WAAW,CAACrB,eAAe,CAAG,CAAC,CAAC,CAACiB,KAAK,CACvE,CAAC,CACD,CAAC,CACH,CAAC,CAAE;AACHI,WAAW,CAACC,IAAI,CAAC,GAAG,CAAC,CACrBV,QAAQ,CAAGS,WAAW,CAACL,IAAI,CAAC,IAAI,CAAC,CACnC,CAEA,MAAO,CAACJ,QAAQ,CAAEQ,mBAAmB,CAAC,CACxC,CAAC,CAED,KAAM,CAAAG,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAC,eAAe,CAAG1B,kCAAY,CAACC,gDAAoB,CAAC,CAC1D,KAAM,CAAA5B,WAAW,CAAGb,gBAAM,CAAqB,IAAI,CAAC,CACpD,KAAM,CAAEmE,aAAc,CAAC,CAAG5B,uCAAe,CAAC,CAAC,CAE3C,KAAM,CAAC6B,yBAAyB,CAAEC,4BAA4B,CAAC,CAC7DjC,kBAAQ,CAAC,IAAI,CAAC,CAChB,KAAM,CAACkC,QAAQ,CAAEC,WAAW,CAAC,CAAGnC,kBAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACoC,UAAU,CAAEC,aAAa,CAAC,CAAGrC,kBAAQ,CAAC,CAC3CsC,MAAM,CAAE,YAAY,CACpBjD,KAAK,CAAE,qBAAqB,CAC5BkD,QAAQ,CAAE,EAAE,CACZzD,QAAQ,CAAE,YAAY,CACtB0D,WAAW,CAAE,EAAE,CACfC,OAAO,CAAE,UAAU,CACnBC,IAAI,CAAE7B,aAAsB,CAAG,gCAAgC,CAC/D8B,IAAI,CAAE,sCAAsC,CAC5CzB,QAAQ,CAAE,CACR,IAAI,CAAE,KAAK,CACX,IAAI,CAAE,IAAI,CACV,KAAK,CAAE,KAAK,CACZ,IAAI,CAAE,IAAI,CACV,KAAK,CAAE,GAAG,CACV,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,KAAK,CACb,GAAG,CAAE,IAAI,CACT,KAAK,CAAE,IAAI,CACX,KAAK,CAAE,MACT,CACF,CAAC,CAAC,CAEF,KAAM,CAAAxC,QAAQ,CAAGT,oCAAW,CAAC,CAAC,CAE9BN,mBAAS,CAAC,IAAM,CACd,GAAIc,WAAW,CAAE,KAAAS,oBAAA,CACf,CAAAA,oBAAA,CAAAT,WAAW,CAACU,OAAO,UAAAD,oBAAA,iBAAnBA,oBAAA,CAAqBE,KAAK,CAAC,CAAC,CAC9B,CACF,CAAC,CAAE,EAAE,CAAC,CAENzB,mBAAS,CAAC,IAAM,CACd,GACE,CAACe,QAAQ,CAACE,QAAQ,CAAC6B,UAAU,CAAC,sBAAsB,CAAC,EACrD/B,QAAQ,CAACE,QAAQ,CAAC6B,UAAU,CAAC,eAAe,CAAC,CAC7C,CACAmC,KAAK,CACH/B,aAAsB,CAAGnC,QAAQ,CAACE,QAAQ,CAACiE,OAAO,CAAC,KAAK,CAAE,OAAO,CAAC,CAClE,CACEC,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,aACf,CACF,CAAC,CACEC,IAAI,CAAEC,QAAQ,EAAK,CAClB,KAAM,CAAAC,WAAW,CAAGD,QAAQ,CAACE,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAExD,GAAIF,WAAW,EAAIA,WAAW,CAACG,OAAO,CAAC,kBAAkB,CAAC,GAAK,CAAC,CAAC,CAAE,CACjE,MAAO,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAACN,IAAI,CAAEO,kBAAkB,EAAK,CAClD,KAAM,CAAAC,cAAc,CAAGtD,8CAAuB,CAC5CW,aAAsB,CAAGnC,QAAQ,CAACE,QAAQ,CAC1CkD,eACF,CAAC,CACD,KAAM,CAAA2B,cAAc,CAAG,CACrB,GAAGD,cAAc,CACjBtC,QAAQ,CAAEqC,kBACZ,CAAC,CAEDlB,aAAa,CAACoB,cAAc,CAAC,CAC7B1B,aAAa,CAAC,oBAAoB,CAAG0B,cAAc,CAACpE,KAAK,CAAC,CAC1D4C,4BAA4B,CAAC,KAAK,CAAC,CACrC,CAAC,CAAC,CACJ,CAAC,IAAM,CACL,KAAM,IAAI,CAAAyB,KAAK,CAAC,2BAA2B,CAAC,CAC9C,CACF,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CAChBC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEF,KAAK,CAAC,CAC/C7B,aAAa,CAAC,2BAA2B,CAAC,CAC1CI,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAAC,CACN,CACA;AACA;AACF,CAAC,CAAE,CAACzD,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAqF,uBAAuB,CAAGA,CAAA,GAAM,CACpClG,oBAAe,CAACgB,KAAK,CAAC,CACpBC,QAAQ,CAAE,WAAW,CACrBC,MAAM,CAAE,OAAO,CACfC,KAAK,CACHoD,UAAU,SAAVA,UAAU,WAAVA,UAAU,CAAEO,IAAI,EAChBP,UAAU,CAACO,IAAI,GAAK,sCAAsC,CACtDP,UAAU,CAACO,IAAI,CACf,oBACR,CAAC,CAAC,CACJ,CAAC,CAED,GAAIT,QAAQ,CAAE,CACZ,mBAAO9D,mBAAA,CAACI,+BAAkB,GAAE,CAAC,CAC/B,CAEA,GAAI4D,UAAU,CAAE,CACd,KAAM,CAAClB,QAAQ,CAAEQ,mBAAmB,CAAC,CAAGV,2BAA2B,CACjEoB,UAAU,CAAClB,QACb,CAAC,CAED,KAAM,CAAA8C,gBAAgB,CACpBtC,mBAAmB,CAAGpB,eAAe,cACnChC,oBAAA,MAAGkB,SAAS,CAAC,kCAAkC,CAAAF,QAAA,EAAC,8EAExC,CAACgB,eAAe,CAAC,WACzB,EAAG,CAAC,CAEJ,EACD,CAEH,KAAM,CAAA2D,YAAY,CAAGvD,eAAe,CAAC0B,UAAU,CAACM,IAAI,CAAC,CACrD,KAAM,CAAAwB,YAAY,CAAGvD,eAAe,CAACyB,UAAU,CAACM,IAAI,CAAEN,UAAU,CAAC/C,KAAK,CAAC,CAEvE,mBACEjB,mBAAA,CAACL,gCAAa,EAACsB,KAAK,CAAE,2BAA2B,CAAG+C,UAAU,CAAC/C,KAAM,CAAAC,QAAA,cACnEhB,oBAAA,SAAMiB,EAAE,CAAC,MAAM,CAAAD,QAAA,eACbhB,oBAAA,CAACJ,wBAAS,EAAAoB,QAAA,eACRlB,mBAAA,QAAKoB,SAAS,CAAC,sBAAsB,CAAAF,QAAA,cACnClB,mBAAA,WAAQoB,SAAS,CAAC,4BAA4B,CAAAF,QAAA,cAC5ChB,oBAAA,OAAIkB,SAAS,CAAC,gBAAgB,CAACC,GAAG,CAAEhB,WAAY,CAACiB,QAAQ,CAAE,CAAC,CAAE,CAAAJ,QAAA,EAC3D0C,yBAAyB,cACxB5D,mBAAA,SAAAkB,QAAA,CAAM,0BAAmB,CAAM,CAAC,CAEhC8C,UAAU,CAAC/C,KACZ,CACA6C,QAAQ,eAAI9D,mBAAA,SAAAkB,QAAA,CAAM,iBAAe,CAAM,CAAC,EACvC,CAAC,CACC,CAAC,CACN,CAAC,cACNhB,oBAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAF,QAAA,eACxBlB,mBAAA,MACEwB,IAAI,CAAEiB,aAAsB,CAAGuB,UAAU,CAACO,IAAK,CAC/CwB,QAAQ,CAAC,EAAE,CACXC,OAAO,CAAEL,uBAAwB,CACjCvE,SAAS,CAAC,8CAA8C,CAAAF,QAAA,CACzD,UAED,CAAG,CAAC,cACJlB,mBAAA,CAAC6B,kCAAmB,EAClBT,SAAS,CAAC,+EAA+E,CACzF6E,KAAK,CAAE,CAAEC,UAAU,CAAE,CAAE,CAAE,CACzBC,mBAAmB,CAAC,yBAAyB,CAAAjF,QAAA,CAC9C,mBAED,CAAqB,CAAC,EACnB,CAAC,EACG,CAAC,cACZhB,oBAAA,QAAKkB,SAAS,CAAC,oBAAoB,CAAAF,QAAA,eACjChB,oBAAA,QAAKkB,SAAS,CAAC,QAAQ,CAAAF,QAAA,EACpB8C,UAAU,CAACE,MAAM,EAAI,CAACF,UAAU,CAACK,OAAO,CAAC+B,QAAQ,CAAC,SAAS,CAAC,eAC3DlG,oBAAA,MAAGkB,SAAS,CAAC,6CAA6C,CAAAF,QAAA,EAAC,eAC5C,CAAC8C,UAAU,CAACE,MAAM,EAC9B,CACJ,CAEAF,UAAU,CAACK,OAAO,EACjB,CAACL,UAAU,CAACK,OAAO,CAAC+B,QAAQ,CAAC,SAAS,CAAC,eACrCpG,mBAAA,MAAAkB,QAAA,CAAI8C,UAAU,CAACK,OAAO,CAAI,CAC3B,CAEFL,UAAU,CAACM,IAAI,EACd,CAACN,UAAU,CAACM,IAAI,CAAC8B,QAAQ,CAAC,qBAAqB,CAAC,EAChDN,YAAY,CACb9B,UAAU,CAACM,IAAI,EAAIuB,YAAY,cAEhC7F,mBAAA,OAAAkB,QAAA,CAAI,gBAAc,CAAI,CAAC,CACtB4C,QAAQ,eAAI9D,mBAAA,MAAAkB,QAAA,CAAG,iBAAe,CAAG,CAAC,CAClC,CAAC0C,yBAAyB,EAAIgC,gBAAgB,CAC9ChC,yBAAyB,cACxB5D,mBAAA,MAAAkB,QAAA,CAAG,eAAQ,CAAG,CAAC,cAEflB,mBAAA,QACEoB,SAAS,CAAC,4CAA4C,CACtDD,EAAE,CAAC,wBAAwB,CAC3BG,QAAQ,CAAE,CAAE,CAAAJ,QAAA,cAEZlB,mBAAA,SAAAkB,QAAA,CAAO4B,QAAQ,CAAO,CAAC,CACpB,CACN,EACE,CAAC,cACN9C,mBAAA,MAAAkB,QAAA,cACElB,mBAAA,MACEwB,IAAI,CACFrB,wBAAa,CAAGsB,kBAAkB,CAAC,CAAAnB,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEE,QAAQ,GAAI,EAAE,CAC5D,CACDkB,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,qBAAqB,CACzBR,EAAE,CAAC,+BAA+B,CAAAD,QAAA,CACnC,4DAED,CAAG,CAAC,CACH,CAAC,EACD,CAAC,EACF,CAAC,CACM,CAAC,CAEpB,CAAC,IAAM,CACL,mBACElB,mBAAA,QAAAkB,QAAA,cACElB,mBAAA,OAAIqB,GAAG,CAAEhB,WAAY,CAACiB,QAAQ,CAAE,CAAC,CAAE,CAAAJ,QAAA,CAAC,6BAEpC,CAAI,CAAC,CACF,CAAC,CAEV,CACF,CAAC,CAED,8DAAeuC,UAAU","sources":["pages/dictionaries/DictionaryNotFound.tsx","pages/dictionaries/Dictionary.tsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport GoogleAnalytics from \"react-ga4\";\nimport * as Sentry from \"@sentry/browser\";\nimport DocumentTitle from \"react-document-title\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport Subheader from \"../../components/Subheader\";\n\n// fullURL = \"https://docs.google.com/forms/d/e/1FAIpQLSfqBBEs5Fl8vgay03fEXzSU7Ey_pms6Y6Nt2Yk8gFftGhAWQA/viewform?usp=pp_url&entry.1884511690=Example\";\nconst googleFormURL =\n  \"https://docs.google.com/forms/d/e/1FAIpQLSfqBBEs5Fl8vgay03fEXzSU7Ey_pms6Y6Nt2Yk8gFftGhAWQA/viewform?usp=pp_url&entry.1884511690=\";\n\nconst DictionaryNotFound = () => {\n  const mainHeading = useRef<HTMLHeadingElement>(null);\n  const location = useLocation();\n\n  useEffect(() => {\n    let labelString = \"Missing dictionary\";\n    if (location && location.pathname) {\n      labelString = location.pathname;\n    }\n\n    GoogleAnalytics.event({\n      category: \"Dictionary not found\",\n      action: \"Visited\",\n      label: labelString,\n    });\n\n    Sentry.captureException(\"Dictionary not found\");\n  }, [location]);\n\n  useEffect(() => {\n    if (mainHeading) {\n      mainHeading.current?.focus();\n    }\n  }, []);\n\n  return (\n    <DocumentTitle title={\"Typey Type | Missing dictionary\"}>\n      <main id=\"main\">\n        <Subheader>\n          <div className=\"flex mr1 self-center\">\n            <header className=\"flex items-center min-h-40\">\n              <h2 ref={mainHeading} className=\"table-cell mr2\" tabIndex={-1}>\n                Missing dictionary\n              </h2>\n            </header>\n          </div>\n        </Subheader>\n        <div className=\"mx-auto mw-1024 p3\">\n          <div className=\"mw-568\">\n            <p className=\"mt3\">\n              That dictionary couldn’t be found. Try another:\n            </p>\n            <ul>\n              <li>\n                <Link to=\"/dictionaries\">All dictionaries</Link>\n              </li>\n            </ul>\n            <p>\n              Or{\" \"}\n              <a\n                href={\n                  googleFormURL + encodeURIComponent(location?.pathname || \"\")\n                }\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                id=\"ga--dictionary--give-feedback\"\n              >\n                let me know (form opens in a new tab)\n              </a>\n            </p>\n          </div>\n        </div>\n      </main>\n    </DocumentTitle>\n  );\n};\n\nexport default DictionaryNotFound;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport DocumentTitle from \"react-document-title\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport DictionaryNotFound from \"./DictionaryNotFound\";\nimport GoogleAnalytics from \"react-ga4\";\nimport PseudoContentButton from \"../../components/PseudoContentButton\";\nimport { lookUpDictionaryInIndex } from \"../../utils/typey-type\";\nimport Subheader from \"../../components/Subheader\";\nimport { useAnnouncerApi } from \"../../components/Announcer/useAnnouncer\";\n\nimport type { PrettyLessonTitle, StenoDictionary } from \"../../types\";\nimport { useAtomValue } from \"jotai\";\nimport { dictionaryIndexState } from \"../../states/dictionaryIndexState\";\n\n// fullURL = \"https://docs.google.com/forms/d/e/1FAIpQLSfqBBEs5Fl8vgay03fEXzSU7Ey_pms6Y6Nt2Yk8gFftGhAWQA/viewform?usp=pp_url&entry.1884511690=Example\";\nconst googleFormURL =\n  \"https://docs.google.com/forms/d/e/1FAIpQLSfqBBEs5Fl8vgay03fEXzSU7Ey_pms6Y6Nt2Yk8gFftGhAWQA/viewform?usp=pp_url&entry.1884511690=\";\n\nconst truncationLimit = 1000;\n\n/** Example: \"/lessons/collections/tech/react/\" */\ntype DictLink = string;\n\nconst isInternalDictLink = (dictLink: DictLink) =>\n  dictLink.startsWith(\"/typey-type\") ||\n  dictLink.startsWith(\"/dictionaries/\") ||\n  dictLink.startsWith(\"/lessons/\") ||\n  dictLink.startsWith(\"/support\");\n\nconst getExternalLink = (dictLink: DictLink) =>\n  isInternalDictLink(dictLink) ? null : (\n    <p className=\"mt3\">\n      <a href={dictLink} target=\"_blank\" rel=\"noopener noreferrer\">\n        Learn more (opens in new tab)\n      </a>\n    </p>\n  );\n\nconst getInternalLink = (dictLink: DictLink, dictTitle: PrettyLessonTitle) =>\n  isInternalDictLink(dictLink) ? (\n    `${process.env.PUBLIC_URL}${dictLink}`.startsWith(\n      process.env.PUBLIC_URL + \"/lessons\"\n    ) ? (\n      <p>\n        <Link to={dictLink}>Lesson: {dictTitle}</Link>\n      </p>\n    ) : (\n      <p>\n        <Link to={dictLink}>Learn more</Link>\n      </p>\n    )\n  ) : null;\n\ntype FormattedDictContents = string;\ntype NumberOfDictionaryLines = number;\n\nconst getDictionaryContentsString = (\n  dictContents: StenoDictionary\n): [FormattedDictContents, NumberOfDictionaryLines] => {\n  let contents = \"\";\n  contents = JSON.stringify(dictContents).split('\",').join('\",\\n');\n  contents = \"{\\n\" + contents.slice(1, contents.length); // split first line {\"STROKE\": \"TRANSLATION\", on {\"\n\n  const contentsArray = contents.split(\"\\n\");\n  const contentsArrayLength = contentsArray.length;\n  if (contentsArrayLength > truncationLimit) {\n    let newContents = contentsArray.slice(0, truncationLimit);\n    newContents[truncationLimit - 1] = newContents[truncationLimit - 1].slice(\n      0,\n      -1\n    ); // removing trailing comma\n    newContents.push(\"}\");\n    contents = newContents.join(\"\\n\");\n  }\n\n  return [contents, contentsArrayLength];\n};\n\nconst Dictionary = () => {\n  const dictionaryIndex = useAtomValue(dictionaryIndexState);\n  const mainHeading = useRef<HTMLHeadingElement>(null);\n  const { updateMessage } = useAnnouncerApi();\n\n  const [loadingDictionaryContents, setLoadingDictionaryContents] =\n    useState(true);\n  const [hasError, setHasError] = useState(false);\n  const [dictionary, setDictionary] = useState({\n    author: \"Typey Type\",\n    title: \"Loading dictionary…\",\n    subtitle: \"\",\n    category: \"Typey Type\",\n    subcategory: \"\",\n    tagline: \"Loading…\",\n    link: process.env.PUBLIC_URL + \"/support#typey-type-dictionary\",\n    path: \"/dictionaries/typey-type/top-10.json\",\n    contents: {\n      \"-T\": \"the\",\n      \"-F\": \"of\",\n      \"SKP\": \"and\",\n      \"TO\": \"to\",\n      \"AEU\": \"a\",\n      \"TPH\": \"in\",\n      \"TPOR\": \"for\",\n      \"S\": \"is\",\n      \"OPB\": \"on\",\n      \"THA\": \"that\",\n    },\n  });\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (mainHeading) {\n      mainHeading.current?.focus();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (\n      !location.pathname.startsWith(\"/dictionaries/custom\") &&\n      location.pathname.startsWith(\"/dictionaries\")\n    ) {\n      fetch(\n        process.env.PUBLIC_URL + location.pathname.replace(/\\/$/, \".json\"),\n        {\n          method: \"GET\",\n          credentials: \"same-origin\",\n        }\n      )\n        .then((response) => {\n          const contentType = response.headers.get(\"content-type\");\n\n          if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n            return response.json().then((dictionaryContents) => {\n              const dictIndexEntry = lookUpDictionaryInIndex(\n                process.env.PUBLIC_URL + location.pathname,\n                dictionaryIndex\n              );\n              const dictionaryData = {\n                ...dictIndexEntry,\n                contents: dictionaryContents,\n              };\n\n              setDictionary(dictionaryData);\n              updateMessage(\"Finished loading: \" + dictionaryData.title);\n              setLoadingDictionaryContents(false);\n            });\n          } else {\n            throw new Error(\"Unable to load dictionary\");\n          }\n        })\n        .catch((error) => {\n          console.log(\"Unable to load dictionary\", error);\n          updateMessage(\"Unable to load dictionary\");\n          setHasError(true);\n        });\n    }\n    // FIXME: updateMessage in dependency array\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location]);\n\n  const trackDownloadDictionary = () => {\n    GoogleAnalytics.event({\n      category: \"Downloads\",\n      action: \"Click\",\n      label:\n        dictionary?.path &&\n        dictionary.path !== \"/dictionaries/typey-type/top-10.json\"\n          ? dictionary.path\n          : \"No dictionary path\",\n    });\n  };\n\n  if (hasError) {\n    return <DictionaryNotFound />;\n  }\n\n  if (dictionary) {\n    const [contents, contentsArrayLength] = getDictionaryContentsString(\n      dictionary.contents\n    );\n\n    const truncatedMessage =\n      contentsArrayLength > truncationLimit ? (\n        <p className=\"bg-danger dark:text-coolgrey-900\">\n          The dictionary is too large to display in full so this only shows the\n          first {truncationLimit} entries.\n        </p>\n      ) : (\n        \"\"\n      );\n\n    const externalLink = getExternalLink(dictionary.link);\n    const internalLink = getInternalLink(dictionary.link, dictionary.title);\n\n    return (\n      <DocumentTitle title={\"Typey Type | Dictionary: \" + dictionary.title}>\n        <main id=\"main\">\n          <Subheader>\n            <div className=\"flex mr1 self-center\">\n              <header className=\"flex items-center min-h-40\">\n                <h2 className=\"table-cell mr2\" ref={mainHeading} tabIndex={-1}>\n                  {loadingDictionaryContents ? (\n                    <span>Loading dictionary…</span>\n                  ) : (\n                    dictionary.title\n                  )}\n                  {hasError && <span>Loading failed.</span>}\n                </h2>\n              </header>\n            </div>\n            <div className=\"flex mxn2\">\n              <a\n                href={process.env.PUBLIC_URL + dictionary.path}\n                download=\"\"\n                onClick={trackDownloadDictionary}\n                className=\"link-button link-button-ghost table-cell mr1\"\n              >\n                Download\n              </a>\n              <PseudoContentButton\n                className=\"js-clipboard-button button button--secondary table-cell mr1 copy-to-clipboard\"\n                style={{ lineHeight: 2 }}\n                dataClipboardTarget=\"#js-dictionary-json-pre\"\n              >\n                Copy to clipboard\n              </PseudoContentButton>\n            </div>\n          </Subheader>\n          <div className=\"p3 mx-auto mw-1024\">\n            <div className=\"mw-568\">\n              {dictionary.author && !dictionary.tagline.includes(\"Loading\") && (\n                <p className=\"text-small text-uppercase de-emphasized mt3\">\n                  Contributor: {dictionary.author}\n                </p>\n              )}\n\n              {dictionary.tagline &&\n                !dictionary.tagline.includes(\"Loading\") && (\n                  <p>{dictionary.tagline}</p>\n                )}\n\n              {dictionary.link &&\n                !dictionary.link.includes(\"/typey-type/support\") &&\n                internalLink}\n              {dictionary.link && externalLink}\n\n              <h3>The dictionary</h3>\n              {hasError && <p>Loading failed.</p>}\n              {!loadingDictionaryContents && truncatedMessage}\n              {loadingDictionaryContents ? (\n                <p>Loading…</p>\n              ) : (\n                <pre\n                  className=\"quote h-168 overflow-scroll mw-384 mt1 mb3\"\n                  id=\"js-dictionary-json-pre\"\n                  tabIndex={0}\n                >\n                  <code>{contents}</code>\n                </pre>\n              )}\n            </div>\n            <p>\n              <a\n                href={\n                  googleFormURL + encodeURIComponent(location?.pathname || \"\")\n                }\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                id=\"ga--dictionary--give-feedback\"\n              >\n                Give feedback on this dictionary (form opens in a new tab)\n              </a>\n            </p>\n          </div>\n        </main>\n      </DocumentTitle>\n    );\n  } else {\n    return (\n      <div>\n        <h2 ref={mainHeading} tabIndex={-1}>\n          That dictionary is missing.\n        </h2>\n      </div>\n    );\n  }\n};\n\nexport default Dictionary;\n"],"names":["React","useEffect","useRef","GoogleAnalytics","Sentry","DocumentTitle","Link","useLocation","Subheader","jsx","_jsx","jsxs","_jsxs","googleFormURL","DictionaryNotFound","mainHeading","location","labelString","pathname","event","category","action","label","captureException","_mainHeading$current","current","focus","title","children","id","className","ref","tabIndex","to","href","encodeURIComponent","target","rel","useState","PseudoContentButton","lookUpDictionaryInIndex","useAnnouncerApi","useAtomValue","dictionaryIndexState","truncationLimit","isInternalDictLink","dictLink","startsWith","getExternalLink","getInternalLink","dictTitle","process","env","PUBLIC_URL","getDictionaryContentsString","dictContents","contents","JSON","stringify","split","join","slice","length","contentsArray","contentsArrayLength","newContents","push","Dictionary","dictionaryIndex","updateMessage","loadingDictionaryContents","setLoadingDictionaryContents","hasError","setHasError","dictionary","setDictionary","author","subtitle","subcategory","tagline","link","path","fetch","replace","method","credentials","then","response","contentType","headers","get","indexOf","json","dictionaryContents","dictIndexEntry","dictionaryData","Error","catch","error","console","log","trackDownloadDictionary","truncatedMessage","externalLink","internalLink","download","onClick","style","lineHeight","dataClipboardTarget","includes"],"sourceRoot":""}