{"version":3,"file":"static/js/647.516eb6e6.chunk.js","mappings":"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","sources":["components/Notification.tsx","pages/dictionaries/DictionaryManagement.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ClosingCross from \"./Icons/icon-images/ClosingCross.svg\";\nimport Icon from \"./Icons/Icon\";\n\ntype Props = {\n  children: React.ReactNode;\n  onDismiss?: () => void;\n};\n\nconst Notification = ({ onDismiss, children }: Props) => {\n  const [showNotification, setShowNotification] = useState(true);\n\n  useEffect(() => {\n    if (!showNotification && onDismiss) {\n      onDismiss();\n    }\n  }, [showNotification, onDismiss]);\n\n  function handleDismiss() {\n    setShowNotification(false);\n  }\n\n  return (\n    <div>\n      {showNotification ? (\n        <div className=\"notification notification--global fixed w-100 flex wrap justify-between pa1 p1 p3 pa3 items-center bg-danger dark:text-coolgrey-900\">\n          <div className=\"notification__message\">{children}</div>\n          <button\n            className=\"de-emphasized-button flex items-center justify-center p1\"\n            aria-label=\"Dismiss notification\"\n            onClick={handleDismiss.bind(this)}\n          >\n            <Icon iconSVGImport={ClosingCross} width=\"1em\" height=\"1em\" />\n          </button>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Notification;\n","import * as Sentry from \"@sentry/browser\";\nimport LATEST_PLOVER_DICT_NAME from \"../../constant/latestPloverDictName\";\nimport SOURCE_NAMESPACES from \"../../constant/sourceNamespaces\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport DocumentTitle from \"react-document-title\";\nimport GoogleAnalytics from \"react-ga4\";\nimport Notification from \"../../components/Notification\";\nimport { getListOfValidDictionariesAddedAndInConfig } from \"../../utils/transformingDictionaries/transformingDictionaries\";\nimport PseudoContentButton from \"../../components/PseudoContentButton\";\nimport { writePersonalPreferences } from \"../../utils/typey-type\";\nimport misstrokesJSON from \"../../json/misstrokes.json\";\nimport Subheader from \"../../components/Subheader\";\nimport { useAnnouncerApi } from \"../../components/Announcer/useAnnouncer\";\nimport { useAtomValue } from \"jotai\";\nimport { globalUserSettingsState } from \"../../states/globalUserSettingsState\";\n\n// type Props = {\n//   fetchAndSetupGlobalDict\n//   globalLookupDictionary\n//   globalUserSettings.experiments?.stenohintsonthefly\n//   toggleExperiment\n//   updatePersonalDictionaries\n// }\n\n// From an older version of Plover\n// https://github.com/openstenoproject/plover/commit/1bfc3b3eb04ad7bf8b74d8d236174255b5382925#diff-ec83a43e05da03d0e1df2dce12cad3ebb30e8fad3d0ddab6243951e15f6b102b\nconst invalidEntries = {\n  \"11/*T\": \"11th\",\n  \"E*/PHRAOUR/PWUS/KWRAOU/TPHUPL\": \"e pluribus unum\",\n  \"E*/PHRAOUR/PWUS/KWRAOUPB\": \"e pluribus unum\",\n  \"E*/PHRAOUR/PWUS/KWRAOUPB/UPL\": \"e pluribus unum\",\n  \"SEPB/*AT\": \"sensate\",\n  \"SWA/HAOEL/LAOE\": \"Swahili\",\n  \"WEUBG/*APB\": \"Wiccan\",\n};\n\nconst DictionaryManagement = (props) => {\n  const globalUserSettings = useAtomValue(globalUserSettingsState);\n  const mainHeading = useRef(null);\n  // const mainHeading = useRef<HTMLHeadingElement>(null);\n  const { updateMessage } = useAnnouncerApi();\n\n  const [misstrokesInDictionaries, setMisstrokesInDictionaries] =\n    useState(null);\n  const [importedDictionariesLoaded, setImportedDictionariesLoaded] =\n    useState(false);\n  const [importedDictionariesLoading, setImportedDictionariesLoading] =\n    useState(false);\n  const [dictionaryErrorNotification, setDictionaryErrorNotification] =\n    useState(null);\n  const [\n    dictionariesTypeyTypeWillUseState,\n    setDictionariesTypeyTypeWillUseState,\n  ] = useState([]);\n  const [validDictionariesState, setValidDictionariesState] = useState([]);\n  const [invalidDictionariesState, setInvalidDictionariesState] = useState([]);\n  const [\n    namesOfValidImportedDictionariesState,\n    setNamesOfValidImportedDictionariesState,\n  ] = useState([]);\n  const [\n    validDictionariesListedInConfigState,\n    setValidDictionariesListedInConfigState,\n  ] = useState([]);\n  const [validConfig, setValidConfig] = useState(\"\");\n  const [invalidConfig, setInvalidConfig] = useState([]);\n\n  const globalDict = props.globalLookupDictionary;\n  useEffect(() => {\n    // @ts-ignore FIXME: remove this in TSX\n    mainHeading.current?.focus();\n\n    let config = [];\n    if (globalDict && globalDict[\"configuration\"]) {\n      config = globalDict[\"configuration\"]\n        .filter((dictName) =>\n          dictName.startsWith(SOURCE_NAMESPACES.get(\"user\") + \":\")\n        )\n        .map((dictName) => dictName.replace(/^.+:/, \"\"));\n    }\n    setDictionariesTypeyTypeWillUseState(config);\n  }, [globalDict]);\n\n  // maxSelectFile(event) {\n  //   let files = event.target.files // create file object\n  //   if (files.length > 3) {\n  //     const msg = 'Only 3 images can be uploaded at a time'\n  //     event.target.value = null // discard selected file\n  //     console.log(msg)\n  //     return false;\n  //   }\n\n  //   return true;\n  // }\n\n  function validateDictionaries(files) {\n    let validDictionaries = validDictionariesState.slice();\n    let invalidDictionaries = [];\n    let filesLength = files.length;\n\n    if (filesLength === 0) {\n      setValidDictionariesState(validDictionaries);\n      setInvalidDictionariesState([\n        [\"No dictionary\", \"Choose a dictionary file to import.\"],\n      ]);\n    } else {\n      let misstrokesInDictionaries = [];\n      for (let i = 0; i < filesLength; ++i) {\n        let dictionary = files[i];\n        let dictName = dictionary.name;\n\n        const reader = new FileReader();\n\n        reader.onload = (event) => {\n          let text = event.target.result;\n\n          try {\n            if (dictionary.size > 25000000) {\n              throw new Error(\"This file is too big (>25MB).\");\n            }\n            if (!dictionary.type.startsWith(\"application/json\")) {\n              throw new Error(\"This is not a JSON file.\");\n            }\n\n            if (validDictionariesState.map((d) => d[0]).includes(dictName)) {\n              throw new Error(\n                \"This dictionary name conflicts with an existing dictionary. You may have imported it already.\"\n              );\n            }\n\n            if (dictName === \"typey-type.json\" && dictionary.size >= 2144740) {\n              throw new Error(\n                \"This dictionary looks like a copy of Typey Type's so we'll exclude it for now.\"\n              );\n            }\n\n            if (\n              dictName === LATEST_PLOVER_DICT_NAME ||\n              (dictName === \"main.json\" && dictionary.size > 4000)\n            ) {\n              throw new Error(\n                \"This dictionary looks like a copy of Plover's latest dictionary so we'll exclude it for now.\"\n              );\n            }\n\n            let parsedDictionary = JSON.parse(text);\n\n            if (parsedDictionary.constructor !== {}.constructor) {\n              throw new Error(\"This JSON does not contain an object.\");\n            }\n\n            let parsedDictionaryEntries = Object.entries(parsedDictionary);\n\n            if (parsedDictionaryEntries.length < 1) {\n              throw new Error(\"This dictionary is empty.\");\n            }\n\n            let probableMisstrokes = [];\n            let parsedDictionaryEntriesLength = parsedDictionaryEntries.length;\n\n            for (let i = 0; i < parsedDictionaryEntriesLength; ++i) {\n              let [outline, translation] = parsedDictionaryEntries[i];\n              let invalidStenoOutline = outline.match(\n                /[^#STKPWHRAO*-EUFRPBLGTSDZ/]/\n              );\n              if (invalidStenoOutline !== null) {\n                let maxLength = 50;\n                let trimmedInvalidStenoOutline =\n                  outline.length > maxLength\n                    ? outline.substring(0, maxLength - 3) + \"…\"\n                    : outline.substring(0, maxLength);\n                throw new Error(\n                  `${dictName} contains invalid steno outlines, such as: ${trimmedInvalidStenoOutline}`\n                );\n              }\n\n              if (\n                misstrokesJSON[outline] &&\n                misstrokesJSON[outline] === translation\n              ) {\n                probableMisstrokes.push([outline, translation]);\n              }\n\n              if (\n                invalidEntries[outline] &&\n                invalidEntries[outline] === translation\n              ) {\n                probableMisstrokes.push([outline, translation]);\n              }\n            }\n\n            if (parsedDictionary && typeof parsedDictionary === \"object\") {\n              validDictionaries.push([dictName, parsedDictionary]);\n            }\n\n            if (probableMisstrokes.length > 0) {\n              misstrokesInDictionaries.push({\n                name: dictName,\n                probableMisstrokes: probableMisstrokes,\n              });\n            }\n          } catch (error) {\n            invalidDictionaries.push([dictName, error.message]);\n          }\n\n          const namesOfValidImportedDictionaries = validDictionaries.map(\n            (dictionary) => {\n              return dictionary[0];\n            }\n          );\n\n          let dictionariesTypeyTypeWillUse =\n            getListOfValidDictionariesAddedAndInConfig(\n              validDictionariesListedInConfigState,\n              namesOfValidImportedDictionaries\n            );\n\n          setDictionariesTypeyTypeWillUseState(dictionariesTypeyTypeWillUse);\n          setNamesOfValidImportedDictionariesState(\n            namesOfValidImportedDictionaries\n          );\n          setValidDictionariesState(validDictionaries);\n          setInvalidDictionariesState(invalidDictionaries);\n        };\n\n        reader.readAsText(dictionary);\n      }\n\n      setMisstrokesInDictionaries(misstrokesInDictionaries);\n    }\n  }\n\n  function validateConfig(files) {\n    let validConfig = \"\";\n    let validDictionariesListedInConfig = [];\n    let invalidConfig = [];\n    let filesLength = files.length;\n\n    if (filesLength > 1) {\n      setValidConfig(validConfig);\n      setInvalidConfig([\"Too many files\", \"Choose one config file.\"]);\n    } else if (filesLength !== 1) {\n      setValidConfig(validConfig);\n      setInvalidConfig([\"No config file\", \"Choose a config file to import.\"]);\n    } else if (!files[0].name.endsWith(\".cfg\")) {\n      setValidConfig(validConfig);\n      setInvalidConfig([\n        \"Incorrect file type\",\n        \"The file name must end in “.cfg”.\",\n      ]);\n    } else {\n      let dictionaryConfig = files[0];\n      let configName = dictionaryConfig.name;\n\n      const reader = new FileReader();\n\n      reader.onload = (event) => {\n        let text = event.target.result;\n\n        try {\n          let lines = text.split(\"\\n\");\n          let linesLength = lines.length;\n          let parsedConfig = \"\";\n          for (let i = 0; i < linesLength; ++i) {\n            if (lines[i].startsWith(\"dictionaries = \")) {\n              parsedConfig = JSON.parse(\n                lines[i].replace(\"dictionaries = \", \"\")\n              );\n            }\n          }\n\n          if (!parsedConfig) {\n            throw new Error(\"This file has no list of dictionaries.\");\n          }\n\n          let parsedConfigLength = parsedConfig.length;\n          for (let i = 0; i < parsedConfigLength; ++i) {\n            if (\n              parsedConfig[i].hasOwnProperty(\"enabled\") &&\n              parsedConfig[i].hasOwnProperty(\"path\")\n            ) {\n              if (parsedConfig[i][\"enabled\"]) {\n                let filename = parsedConfig[i][\"path\"]\n                  .split(\"\\\\\")\n                  .pop()\n                  .split(\"/\")\n                  .pop();\n                if (filename.endsWith(\".json\")) {\n                  validDictionariesListedInConfig.push(filename);\n                } else if (\n                  filename.endsWith(\".py\" || filename.endsWith(\".rtf\"))\n                ) {\n                  // Skip valid, but unhandled dictionary formats\n                } else {\n                  debugger;\n                  throw new Error(\n                    `This doesn't look like a valid dictionary filename: ${filename.slice(\n                      0,\n                      50\n                    )}.`\n                  );\n                }\n              }\n            } else {\n              throw new Error(\n                \"The list of dictionaries has no enabled dictionary paths.\"\n              );\n            }\n          }\n\n          if (validDictionariesListedInConfig.length === 0) {\n            throw new Error(\n              \"There were no valid JSON dictionaries found enabled in this config.\"\n            );\n          }\n\n          validConfig = configName;\n        } catch (error) {\n          invalidConfig = [configName, error.message];\n        }\n\n        let dictionariesTypeyTypeWillUse =\n          getListOfValidDictionariesAddedAndInConfig(\n            validDictionariesListedInConfig,\n            namesOfValidImportedDictionariesState\n          );\n\n        setDictionariesTypeyTypeWillUseState(dictionariesTypeyTypeWillUse);\n        setValidConfig(validConfig);\n        setValidDictionariesListedInConfigState(\n          validDictionariesListedInConfig\n        );\n        setInvalidConfig(invalidConfig);\n      };\n\n      reader.readAsText(dictionaryConfig);\n    }\n  }\n\n  function handleOnSubmit(event) {\n    event.preventDefault();\n\n    setImportedDictionariesLoaded(false);\n    setImportedDictionariesLoading(false);\n\n    const filesInput = document.querySelector(\"#dictionariesFileInput\");\n    const files = filesInput.files;\n\n    let labelString = \"No files for dictionaries\";\n    if (files && files.length > 0) {\n      let fileNames = [];\n      for (let i = 0; i < files.length; i++) {\n        fileNames.push(files[i].name);\n      }\n      labelString = fileNames.join(\", \");\n    }\n    GoogleAnalytics.event({\n      category: \"Dictionary management\",\n      action: \"Add dictionaries\",\n      label: labelString,\n    });\n\n    validateDictionaries(files);\n  }\n\n  function handleOnSubmitConfig(event) {\n    event.preventDefault();\n\n    setImportedDictionariesLoaded(false);\n    setImportedDictionariesLoading(false);\n\n    const filesInput = document.querySelector(\"#dictionaryConfigFileInput\");\n    const files = filesInput.files;\n\n    let labelString = \"No files for config\";\n\n    if (files && files.length > 0) {\n      let fileNames = [];\n      for (let i = 0; i < files.length; i++) {\n        fileNames.push(files[i].name);\n      }\n      labelString = fileNames.join(\", \");\n    }\n\n    GoogleAnalytics.event({\n      category: \"Dictionary management\",\n      action: \"Add config\",\n      label: labelString,\n    });\n\n    validateConfig(files);\n  }\n\n  function handleOnSubmitClear(event) {\n    event.preventDefault();\n\n    let writeDictionariesError = writePersonalPreferences(\n      \"personalDictionaries\",\n      []\n    );\n    if (writeDictionariesError) {\n      console.log(writeDictionariesError);\n      if (writeDictionariesError.error) {\n        Sentry.captureException(writeDictionariesError.error);\n        Sentry.captureMessage(\n          \"Write dictionaries error… \" + writeDictionariesError.message,\n          \"debug\"\n        );\n      }\n    } else {\n      updateMessage(\"Applied!\");\n    }\n\n    setImportedDictionariesLoading(false);\n    setDictionaryErrorNotification(null);\n    setDictionariesTypeyTypeWillUseState([]);\n    setValidDictionariesState([]);\n    setInvalidDictionariesState([]);\n    setNamesOfValidImportedDictionariesState([]);\n    setValidDictionariesListedInConfigState([]);\n    setValidConfig(\"\");\n    setInvalidConfig([]);\n\n    GoogleAnalytics.event({\n      category: \"Dictionary management\",\n      action: \"Clear dictionaries and config\",\n      label: \"Clear all\",\n    });\n  }\n\n  function handleOnSubmitApplyChanges(event) {\n    event.preventDefault();\n\n    setImportedDictionariesLoaded(false);\n    setImportedDictionariesLoading(true);\n\n    let configOrder = validDictionariesListedInConfigState;\n    let sortedValidDictionaries = validDictionariesState.slice(0);\n    sortedValidDictionaries = sortedValidDictionaries.sort((a, b) => {\n      // dictionaries that don't appear in config will be before dictionaries that do\n      return configOrder.indexOf(a[0]) - configOrder.indexOf(b[0]);\n    });\n\n    // First, update state\n    props.updatePersonalDictionaries({\n      dictionariesNamesAndContents: sortedValidDictionaries,\n    });\n\n    let personalDictionariesToStoreInV1Format = {\n      v: \"1\",\n      dicts: validDictionariesState,\n    };\n\n    // Second, update local storage\n    let writeDictionariesError = writePersonalPreferences(\n      \"personalDictionaries\",\n      personalDictionariesToStoreInV1Format\n    );\n    if (writeDictionariesError) {\n      showDictionaryErrorNotification(writeDictionariesError.name);\n\n      if (writeDictionariesError.error) {\n        Sentry.captureException(writeDictionariesError.error);\n        Sentry.captureMessage(\n          \"Write dictionaries error… \" + writeDictionariesError.message,\n          \"debug\"\n        );\n      }\n    }\n\n    let dictionariesTypeyTypeWillUse = dictionariesTypeyTypeWillUseState;\n\n    let labelString = dictionariesTypeyTypeWillUse || \"No files for config\";\n    GoogleAnalytics.event({\n      category: \"Apply dictionary changes\",\n      action: \"Click apply button\",\n      label: labelString,\n    });\n\n    const personalDictionaries = {\n      dictionariesNamesAndContents: validDictionariesState,\n    };\n    props\n      .fetchAndSetupGlobalDict(true, personalDictionaries)\n      .then(() => {\n        setImportedDictionariesLoaded(true);\n        setImportedDictionariesLoading(false);\n      })\n      .catch((error) => {\n        console.error(error);\n        showDictionaryErrorNotification(\"FetchAndSetupGlobalDictFailed\");\n        setImportedDictionariesLoaded(false);\n        setImportedDictionariesLoading(false);\n      });\n  }\n\n  function showDictionaryErrorNotification(name) {\n    updateMessage(\n      \"Unable to save dictionaries. See the message at the top of the page for more details.\"\n    );\n    setDictionaryErrorNotification(name || null);\n  }\n\n  function dismissDictionaryErrorNotification() {\n    updateMessage(\"\");\n    setDictionaryErrorNotification(null);\n  }\n\n  let dictionariesTypeyTypeWillUse = dictionariesTypeyTypeWillUseState.map(\n    (dictionary, index) => {\n      return <li key={index}>{dictionary}</li>;\n    }\n  );\n\n  const whyMisstrokes = (\n    <>\n      <details>\n        <summary>\n          <p>\n            To see better stroke hints, you might move any misstrokes out of\n            your main dictionaries into a separate misstrokes autocorrect\n            dictionary and exclude it from Typey&nbsp;Type.\n          </p>\n        </summary>\n        <p>\n          Misstrokes are extra entries that use similar keys to produce the word\n          you meant to write. If you regularly mistype a word, you might add a\n          misstroke entry for the keys you are incorrectly pressing so that your\n          dictionaries effectively autocorrects your mistakes. This is great for\n          increasing the accuracy of your output.\n        </p>\n        <p>\n          While you're learning steno theory, it can be difficult to recognise\n          misstrokes. It might then take longer to learn the theory and develop\n          intuition about what strokes to use for longer words and variations.\n          For example, if you use the misstroke{\" \"}\n          <span className=\"steno-stroke\">SPHAOEU</span> to write “supply”, which\n          is missing the left-hand <span className=\"steno-stroke\">R</span> key\n          from the usual outline <span className=\"steno-stroke\">SPHRAOEU</span>,\n          it might take you longer to work out the brief{\" \"}\n          <span className=\"steno-stroke\">SPHRAOEUG</span> for “supplying” or{\" \"}\n          <span className=\"steno-stroke\">SPWHRAOEU</span> for\n          “blood&nbsp;supply”.\n        </p>\n      </details>\n    </>\n  );\n\n  let misstrokesBlurb =\n    misstrokesInDictionaries?.length > 0 ? (\n      <>\n        <p>\n          Your dictionaries contain entries that might be misstrokes or bad\n          habits:\n        </p>\n        <ul>\n          {misstrokesInDictionaries.map((dict, dictIndex) => {\n            const probableMisstrokes = dict.probableMisstrokes.map(\n              (entry, misstrokeIndex) => (\n                <li className=\"bg-warning wrap\" key={misstrokeIndex}>\n                  \"{entry[0]}\": \"{entry[1]}\"\n                </li>\n              )\n            );\n            return (\n              <li key={dictIndex}>\n                {dict.name}:<ul>{probableMisstrokes}</ul>\n              </li>\n            );\n          })}\n        </ul>\n        {whyMisstrokes}\n      </>\n    ) : (\n      whyMisstrokes\n    );\n\n  let showYourDictionaries = (\n    <p>\n      You can import your dictionaries and your dictionary config to look up\n      briefs using your own dictionaries.\n    </p>\n  );\n  let showYourConfig = null;\n  let showDictionaryErrors = null;\n  let showConfigErrors = null;\n\n  const validDictionaryList = validDictionariesState.map(\n    (dictionary, index, array) => {\n      return <li key={index}>{dictionary[0]}</li>;\n    }\n  );\n\n  const invalidDictionaryList = invalidDictionariesState.map(\n    (dictionary, index, array) => {\n      return (\n        <li key={index}>\n          {dictionary[0]}: {dictionary[1]}\n        </li>\n      );\n    }\n  );\n\n  const namesOfValidImportedDictionaries =\n    namesOfValidImportedDictionariesState;\n  const validDictionariesListedInConfig =\n    validDictionariesListedInConfigState.map((dictionary, index, array) => {\n      let className = \"\";\n      if (namesOfValidImportedDictionaries.indexOf(dictionary) > -1) {\n        className = \"unstyled-list-item\";\n      } else {\n        className = \"unstyled-list-item bg-danger dark:text-coolgrey-900\";\n      }\n      return (\n        <li key={index} className={className}>\n          {dictionary}\n        </li>\n      );\n    });\n\n  if (validDictionariesState && validDictionariesState.length > 0) {\n    showYourDictionaries = (\n      <React.Fragment>\n        {validDictionariesState.length === 1 ? (\n          <p>Your added dictionary:</p>\n        ) : (\n          <p>Your added dictionaries:</p>\n        )}\n        <ul className=\"wrap\">{validDictionaryList}</ul>\n      </React.Fragment>\n    );\n  }\n\n  if (invalidDictionariesState && invalidDictionariesState.length > 0) {\n    showDictionaryErrors = (\n      <React.Fragment>\n        {invalidDictionariesState.length === 1 ? (\n          <p>This dictionary is invalid:</p>\n        ) : (\n          <p>These dictionaries are invalid:</p>\n        )}\n        <ul className=\"bg-danger dark:text-coolgrey-900 pl1 pr3 wrap\">\n          {invalidDictionaryList}\n        </ul>\n      </React.Fragment>\n    );\n  }\n\n  if (validConfig && validConfig.length > 4) {\n    // '.cfg' is 4 characters\n    showYourConfig = (\n      <React.Fragment>\n        <p className=\"wrap\">\n          Your added dictionary config ({validConfig}) contains these\n          dictionaries:\n        </p>\n        <ul className=\"wrap unstyled-list\">\n          {validDictionariesListedInConfig}\n        </ul>\n      </React.Fragment>\n    );\n  }\n\n  if (invalidConfig && invalidConfig.length === 2) {\n    showConfigErrors = (\n      <React.Fragment>\n        <p>This dictionary config is invalid:</p>\n        <p className=\"bg-danger dark:text-coolgrey-900 pl1 pr3 wrap\">\n          {invalidConfig[0]}: {invalidConfig[1]}\n        </p>\n      </React.Fragment>\n    );\n  }\n\n  let notificationBody;\n  switch (dictionaryErrorNotification) {\n    case \"AddToStorageFailed\":\n      notificationBody = (\n        <p>\n          Your local storage is full so your dictionaries won't fit.\n          Typey&nbsp;Type will still use them today but the next time you visit,\n          you’ll have to add your dictionaries again. For help, email{\" \"}\n          <a\n            href=\"mailto:typeytype@didoesdigital.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            typeytype@didoesdigital.com\n          </a>\n        </p>\n      );\n      break;\n\n    case \"WriteToStorageFailed\":\n      notificationBody = (\n        <p>\n          Typey&nbsp;Type couldn’t update your local storage. Check your\n          settings. It might also be full. Any changes to personal preferences\n          and progress will be lost.\n        </p>\n      );\n      break;\n\n    case \"NoLocalStorage\":\n      notificationBody = (\n        <p>\n          Local storage is unavailable. Check your settings and permissions or\n          try another browser. Changes to personal preferences and progress will\n          be lost.\n        </p>\n      );\n      break;\n\n    case \"FetchAndSetupGlobalDictFailed\":\n      notificationBody = (\n        <p>\n          Typey&nbsp;Type couldn’t set up a global dictionary using your\n          personal dictionaries. For help, email{\" \"}\n          <a\n            href=\"mailto:typeytype@didoesdigital.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            typeytype@didoesdigital.com\n          </a>\n        </p>\n      );\n      break;\n\n    default:\n      notificationBody = \"\";\n      break;\n  }\n\n  return (\n    <DocumentTitle title={\"Typey Type | Dictionary management\"}>\n      <main id=\"main\">\n        {dictionaryErrorNotification ? (\n          <Notification\n            onDismiss={dismissDictionaryErrorNotification.bind(this)}\n          >\n            {notificationBody}\n          </Notification>\n        ) : null}\n        <Subheader>\n          <div className=\"flex mr1 self-center\">\n            <header className=\"flex items-center min-h-40\">\n              <h2 className=\"table-cell mr2\" ref={mainHeading} tabIndex={-1}>\n                Dictionary management\n              </h2>\n            </header>\n          </div>\n        </Subheader>\n        <div className=\"bg-info dark:bg-coolgrey-1100 landing-page-section\">\n          <div className=\"p3 mx-auto mw-1024\">\n            <h3>Dictionary management experiment</h3>\n            <details>\n              <summary>\n                <p>\n                  <span className=\"bg-danger dark:text-coolgrey-900\">\n                    This feature is experimental!\n                  </span>{\" \"}\n                  There are some known limitations, such as the size limit.\n                  Expand to learn more…\n                </p>\n              </summary>\n              <ul>\n                <li>\n                  Local storage typically only holds about 5MB of data. If you\n                  have a bigger dictionary, you'll have to add it again on every\n                  visit.\n                </li>\n                <li>\n                  You cannot use duplicate dictionary names e.g. if you have{\" \"}\n                  <code>../good/dict.json</code> and{\" \"}\n                  <code>../bad/dict.json</code>, Typey&nbsp;Type will see them\n                  both as <code>dict.json</code> and panic.\n                </li>\n                <li>\n                  This only works with JSON files. You cannot add Python or RTF\n                  dictionaries.\n                </li>\n                <li>\n                  This only works with Plover config files. This config file may\n                  decide the order of dictionaries for overwriting entries.\n                </li>\n                <li>\n                  This assumes you're using a newer version of Plover where the\n                  config file is in a certain format and the most important\n                  dictionary appears first.\n                </li>\n                <li>\n                  If you add multiple dictionaries with the same steno outline\n                  (JSON key) with different translations (JSON values),\n                  Typey&nbsp;Type will happily show the same outline as a hint\n                  for each of the words (or phrases), even though your\n                  configuration would prevent using both.\n                </li>\n                <li>\n                  The Writer feature will ignore your personal dictionaries\n                  entirely and show only Typey&nbsp;Type translations.\n                </li>\n                <li>\n                  This will probably do weird things with steno layouts other\n                  than the American (Ward Stone Ireland) layout and possibly\n                  with non-Plover theory punctuation.\n                </li>\n              </ul>\n            </details>\n            <p>\n              Typey&nbsp;Type does not upload personal dictionaries anywhere.\n              Your dictionaries stay on your device. Dictionary names (but not\n              their contents) may be sent to Google Analytics.\n            </p>\n            <div className=\"block relative p1\">\n              <label className=\"checkbox-label mb1\">\n                <input\n                  className=\"checkbox-input mr1\"\n                  type=\"checkbox\"\n                  name=\"stenohintsonthefly\"\n                  id=\"stenohintsonthefly\"\n                  checked={\n                    !!globalUserSettings?.experiments?.stenohintsonthefly\n                  }\n                  onChange={props.toggleExperiment}\n                />\n                <strong>\n                  Show your dictionary entries in lesson hints{\" \"}\n                  <span className=\"bg-danger dark:text-coolgrey-900\">\n                    (this is experimental with known limitations!)\n                  </span>\n                </strong>\n              </label>\n              <ul className=\"ml3\">\n                {/* <li>This setting means that instead of using Typey&nbsp;Type's static lesson files for words and stroke hints, Typey Type will use the lesson files only for the words and then generate stroke hints using your dictionaries' strokes when the lesson loads.</li> */}\n                <li>\n                  Typey&nbsp;Type will still use its own stroke hints for\n                  lessons with “phrasing”, “prefixes”, “suffixes”,\n                  “steno-party-tricks”, or “collections/tech” in the URL.\n                </li>\n                <li>\n                  There are weird cases where Typey&nbsp;Type will show its own\n                  strokes for certain combinations of punctuation.\n                </li>\n                <li>\n                  You may see{\" \"}\n                  <span className=\"steno-stroke steno-stroke--subtle\">EU</span>{\" \"}\n                  or{\" \"}\n                  <span className=\"steno-stroke steno-stroke--subtle\">\n                    *EUP\n                  </span>{\" \"}\n                  shown for “I” instead of{\" \"}\n                  <span className=\"steno-stroke steno-stroke--subtle\">1-R</span>{\" \"}\n                  in the Roman Numerals lesson and similar quirks.\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white dark:bg-coolgrey-1000 landing-page-section\">\n          <div className=\"p3 mx-auto mw-1024 flex flex-wrap\">\n            <div className=\"mw-568 mr3 flex-grow\">\n              <h3>Dictionaries used for lookup</h3>\n\n              {props.globalLookupDictionary &&\n              props.globalLookupDictionary[\"configuration\"] ? (\n                <>\n                  <p>\n                    Typey&nbsp;Type will use these dictionaries for brief hints:\n                  </p>\n                  <ul>\n                    <li>Typey Type's dictionaries</li>\n                    {dictionariesTypeyTypeWillUse}\n                    <li>… and for Lookup, Plover's latest dictionary too</li>\n                  </ul>\n                </>\n              ) : (\n                <p>\n                  No dictionaries have been loaded yet because this page doesn't\n                  need to show any strokes.\n                </p>\n              )}\n              <form\n                className=\"mb3\"\n                onSubmit={handleOnSubmitApplyChanges.bind(this)}\n              >\n                <p>\n                  <PseudoContentButton\n                    className=\"pseudo-text--applied button mt1\"\n                  >\n                    Apply\n                  </PseudoContentButton>\n                  {importedDictionariesLoading ? (\n                    <span className=\"dib ml2\">Applying</span>\n                  ) : null}\n                  {importedDictionariesLoaded ? (\n                    <span className=\"dib ml2\">Applied!</span>\n                  ) : null}\n                </p>\n              </form>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-info dark:bg-coolgrey-1100 landing-page-section\">\n          <div className=\"p3 mx-auto mw-1024\">\n            <div className=\"flex flex-wrap\">\n              <div className=\"mw-568 mr3 flex-grow\">\n                <h3>Your dictionaries</h3>\n                {showYourDictionaries}\n                {showDictionaryErrors}\n                {misstrokesBlurb}\n                {showYourConfig}\n                {showConfigErrors}\n                <form\n                  className=\"mt3 mb3\"\n                  onSubmit={handleOnSubmitClear.bind(this)}\n                >\n                  <div>\n                    <button type=\"submit\" className=\"button button--danger mt1\">\n                      Clear dictionaries and config\n                    </button>\n                  </div>\n                </form>\n              </div>\n              <div className=\"mw-384 w-336\">\n                <h3>Add files</h3>\n                <form className=\"mb3\" onSubmit={handleOnSubmit.bind(this)}>\n                  <div className=\"dib\">\n                    <label className=\"mb1\" htmlFor=\"dictionariesFileInput\">\n                      Add dictionaries in JSON format\n                    </label>\n                    <p className=\"text-small mb1\">\n                      You can add one dictionary after another using this form.\n                    </p>\n                    <input\n                      type=\"file\"\n                      id=\"dictionariesFileInput\"\n                      name=\"dictionary\"\n                      className=\"form-control\"\n                      multiple\n                    />\n                  </div>\n                  <div>\n                    <button type=\"submit\" className=\"button mt1\">\n                      Add dictionaries\n                    </button>\n                  </div>\n                </form>\n\n                <form\n                  className=\"mb3\"\n                  onSubmit={handleOnSubmitConfig.bind(this)}\n                >\n                  <div className=\"dib\">\n                    <label className=\"mb1\" htmlFor=\"dictionaryConfigFileInput\">\n                      Add config\n                    </label>\n                    <input\n                      type=\"file\"\n                      id=\"dictionaryConfigFileInput\"\n                      name=\"dictionaryConfig\"\n                      className=\"form-control\"\n                      multiple\n                    />\n                  </div>\n                  <div>\n                    <button type=\"submit\" className=\"button mt1\">\n                      Add config\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </DocumentTitle>\n  );\n};\n\nexport default DictionaryManagement;\n"],"names":["_ref","onDismiss","children","showNotification","setShowNotification","useState","useEffect","_jsx","_jsxs","className","onClick","bind","Icon","iconSVGImport","ClosingCross","width","height","invalidEntries","props","_globalUserSettings$e","globalUserSettings","useAtomValue","globalUserSettingsState","mainHeading","useRef","updateMessage","useAnnouncerApi","misstrokesInDictionaries","setMisstrokesInDictionaries","importedDictionariesLoaded","setImportedDictionariesLoaded","importedDictionariesLoading","setImportedDictionariesLoading","dictionaryErrorNotification","setDictionaryErrorNotification","dictionariesTypeyTypeWillUseState","setDictionariesTypeyTypeWillUseState","validDictionariesState","setValidDictionariesState","invalidDictionariesState","setInvalidDictionariesState","namesOfValidImportedDictionariesState","setNamesOfValidImportedDictionariesState","validDictionariesListedInConfigState","setValidDictionariesListedInConfigState","validConfig","setValidConfig","invalidConfig","setInvalidConfig","globalDict","globalLookupDictionary","showDictionaryErrorNotification","name","_mainHeading$current","current","focus","config","filter","dictName","startsWith","SOURCE_NAMESPACES","get","map","replace","dictionariesTypeyTypeWillUse","dictionary","index","whyMisstrokes","_Fragment","misstrokesBlurb","length","dict","dictIndex","probableMisstrokes","entry","misstrokeIndex","showYourDictionaries","showYourConfig","showDictionaryErrors","showConfigErrors","validDictionaryList","array","invalidDictionaryList","namesOfValidImportedDictionaries","validDictionariesListedInConfig","indexOf","notificationBody","React","href","target","rel","DocumentTitle","title","id","Notification","Subheader","ref","tabIndex","type","checked","experiments","stenohintsonthefly","onChange","toggleExperiment","onSubmit","event","preventDefault","configOrder","sortedValidDictionaries","slice","sort","a","b","updatePersonalDictionaries","dictionariesNamesAndContents","personalDictionariesToStoreInV1Format","v","dicts","writeDictionariesError","writePersonalPreferences","error","Sentry","message","labelString","GoogleAnalytics","category","action","label","personalDictionaries","fetchAndSetupGlobalDict","then","catch","console","PseudoContentButton","log","files","document","querySelector","fileNames","i","push","join","validDictionaries","invalidDictionaries","filesLength","reader","FileReader","onload","text","result","size","Error","d","includes","LATEST_PLOVER_DICT_NAME","parsedDictionary","JSON","parse","constructor","parsedDictionaryEntries","Object","entries","parsedDictionaryEntriesLength","outline","translation","match","maxLength","trimmedInvalidStenoOutline","substring","misstrokesJSON","getListOfValidDictionariesAddedAndInConfig","readAsText","validateDictionaries","htmlFor","multiple","endsWith","dictionaryConfig","configName","lines","split","linesLength","parsedConfig","parsedConfigLength","hasOwnProperty","filename","pop","validateConfig"],"sourceRoot":""}